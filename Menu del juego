#include<stdio.h>
#include<string.h>
#define N 12

int main ()
{
    char op1,op2,dificultad,c;
    char principo[N],destino[N],p1[N]={'1'},p2[N]={'2'},p3[N]={'3'},p4[N]={'4'},p5[N]={'5'},p6[N]={'6'},p7[N]={'7'},p8[N]={'8'},p9[N]={'9'};
    int cont1=0,cont2=0,prp,fn;
    FILE *pf;
    printf(" BIENVENIDO AL METRO!! ");
    printf("\n\n MENU PRINCIPAL\n\n 1. Instrucciones\n\n 2. Jugar \n\n 3. Salir\n\n Opcion: ");
    do
    {

        scanf(" %c",&op1);

        switch(op1)
        {
            case '1':
                  printf("\n Instrucciones\nA continuacion el usuario tendra que elegir la parada en la que se encuentra y el nivel dificultad con el que desee jugar.\npor cada etacion tendra que superar una prueba hasta llegar a la parada de destino \n");
                  printf("\neliga otra opcion ");
             break;

             case '2':
                     pf=fopen("Mapa_metro.txt","r");
                     if(pf == NULL){
                        printf("Error al abrir el mapa");

                     }else{
while (fscanf(pf, "%c", &c) != EOF)
	{

	  printf("%c", c); // Escribimos el caracter en el destino
	}
pclose(pf);
                     }

                     printf("\n seleccione la parada en la que se encunetra: ");

                    do{
                     scanf("  %11s",principo);
                      if(strcmp(p1,principo)==0)
                        prp=1;
                     else if(strcmp(p2,principo)==0)
                        prp=2;
                     else if(strcmp(p3,principo)==0)
                        prp=3;
                    else if(strcmp(p4,principo)==0)
                        prp=4;
                    else if(strcmp(p5,principo)==0)
                        prp=5;
                    else if(strcmp(p6,principo)==0)
                        prp=6;
                    else if(strcmp(p7,principo)==0)
                        prp=7;
                    else if(strcmp(p8,principo)==0)
                        prp=8;
                    else if(strcmp(p9,principo)==0)
                        prp=9;


                     if(strcmp(p1,principo)==0||strcmp(p2,principo)==0||strcmp(p3,principo)==0||strcmp(p4,principo)==0||strcmp(p5,principo)==0||strcmp(p6,principo)==0||strcmp(p7,principo)==0||strcmp(p8,principo)==0||strcmp(p9,principo)==0)
                        cont1++;
                        else{
                            cont1=0;
                        printf("Seleccione una parada:");
                        }
                       }while(cont1==0);

                     printf("\n seleccione la parada a la que quiere llegar: ");
                     do{
                     scanf("  %11s",destino);

                     if(strcmp(p1,destino)==0)
                        fn=1;
                     else if(strcmp(p2,destino)==0)
                        fn=2;
                     else if(strcmp(p3,destino)==0)
                        fn=3;
                    else if(strcmp(p4,destino)==0)
                        fn=4;
                    else if(strcmp(p5,destino)==0)
                        fn=5;
                    else if(strcmp(p6,destino)==0)
                        fn=6;
                    else if(strcmp(p7,destino)==0)
                        fn=7;
                    else if(strcmp(p8,destino)==0)
                        fn=8;
                    else if(strcmp(p9,destino)==0)
                        fn=9;

                     if(strcmp(p1,destino)==0||strcmp(p2,destino)==0||strcmp(p3,destino)==0||strcmp(p4,destino)==0||strcmp(p5,destino)==0||strcmp(p6,destino)==0||strcmp(p7,destino)==0||strcmp(p8,destino)==0||strcmp(p9,destino)==0)
                        cont2++;
                        else{
                            cont2=0;
                        printf("Seleccione una parada:");
                        }
                       }while(cont2==0);
                       

                     printf("\nSu trayecto sera de la parada numero %s hasta la parada numero %s\n",principo,destino);

                     printf("\n seleccione el nivel de dificultad.\n 1.facil\n 2.medio\n 3.dificil\nopcion:");
                     scanf(" %c",&dificultad);
                     switch(dificultad){
                 case '1':
                    printf("Ha escogido la opcion facil, dispone de tres comodines");
                    break;
                    case '2':
                    printf("Ha escogido la opcion media, dispone de dos comodines");
                    break;
                    case '3':
                    printf("Ha escogido la opcion dificil, no dispone comodines");
                    break;
                     }
                     printf("\n\nEl juego esta en desarrollo, eliga otra opcion ");
              break;

              case '3':
                printf("\n    Estas seguro de que quieres salir (S o N)?: ");
                scanf(" %c",&op2);
                if ((op2!='S')||(op2!='s')||(op2!='N')||(op2!='n'))
                if(op2=='S' || op2=='s')
                {
                    return 0;
                }
                else
                    printf("\nelija otra opcion ");
              break;
         default:
                printf("\n    Opcion no valida, elija un numero");
              break;
        }

    }
    while(op2!='S' || op2!='s');
    return 0;

}
